#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,67790},
        {-15,53460},
        {-10,42450},
        { -5,33930},
        {  0,27280},
        {  5,22070},
        { 10,17960},
        { 15,14700},
        { 20,12090},
        { 25,10000},
        { 30,8312},
        { 35,6942},
        { 40,5826},
        { 45,4911},
        { 50,4158},
        { 55,3536},
        { 60,3019}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0,4272},
	{2,4251},
	{4,4230},
	{7,4210},
	{9,4192},
	{12,4177},
	{14,4171},
	{17,4156},
	{19,4092},
	{22,4038},
	{24,3999},
	{26,3965},
	{29,3943},
	{31,3926},
	{34,3913},
	{36,3904},
	{39,3896},
	{41,3886},
	{44,3875},
	{46,3865},
	{48,3856},
	{51,3847},
	{53,3838},
	{56,3829},
	{58,3820},
	{61,3811},
	{63,3802},
	{66,3792},
	{68,3782},
	{71,3772},
	{73,3761},
	{75,3750},
	{78,3739},
	{80,3729},
	{83,3721},
	{85,3714},
	{88,3708},
	{90,3695},
	{93,3667},
	{95,3615},
	{98,3526},
	{98,3488},
	{99,3471},
	{99,3461},
	{99,3455},
	{99,3450},
	{99,3448},
	{99,3446},
	{99,3444},
	{99,3442},
	{99,3441},
	{99,3440},
	{99,3440},
	{99,3438},
	{99,3438},
	{99,3438},
	{99,3437},
	{99,3437},
	{99,3436},
	{99,3435},
	{100,3435},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434},
	{100,3434}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0,4287},
	{2,4265},
	{4,4245},
	{6,4219},
	{8,4175},
	{10,4140},
	{12,4113},
	{14,4096},
	{16,4089},
	{18,4067},
	{20,4018},
	{22,3987},
	{24,3967},
	{26,3950},
	{28,3935},
	{30,3923},
	{32,3914},
	{34,3906},
	{36,3895},
	{38,3884},
	{40,3873},
	{42,3864},
	{44,3855},
	{46,3846},
	{48,3839},
	{50,3831},
	{52,3824},
	{54,3817},
	{56,3811},
	{58,3805},
	{60,3799},
	{62,3793},
	{64,3787},
	{66,3781},
	{68,3775},
	{70,3770},
	{72,3765},
	{74,3759},
	{76,3753},
	{78,3746},
	{80,3738},
	{82,3729},
	{84,3719},
	{86,3712},
	{88,3708},
	{90,3704},
	{93,3692},
	{95,3656},
	{97,3587},
	{99,3475},
	{99,3404},
	{100,3384},
	{100,3375},
	{100,3370},
	{100,3367},
	{100,3364},
	{100,3362},
	{100,3361},
	{100,3360},
	{100,3359},
	{100,3358},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357},
	{100,3357}
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0,4316},
	{1,4294},
	{3,4274},
	{5,4255},
	{6,4237},
	{8,4218},
	{10,4201},
	{11,4183},
	{13,4166},
	{15,4149},
	{16,4131},
	{18,4114},
	{20,4097},
	{21,4085},
	{23,4080},
	{25,4061},
	{26,4026},
	{28,4000},
	{30,3984},
	{31,3973},
	{33,3966},
	{35,3955},
	{36,3936},
	{38,3916},
	{40,3901},
	{41,3888},
	{43,3877},
	{45,3867},
	{46,3858},
	{48,3850},
	{50,3842},
	{51,3834},
	{53,3827},
	{55,3820},
	{56,3814},
	{58,3809},
	{60,3803},
	{61,3798},
	{63,3793},
	{65,3789},
	{66,3784},
	{68,3778},
	{70,3771},
	{71,3765},
	{73,3759},
	{75,3753},
	{76,3748},
	{78,3744},
	{80,3739},
	{81,3732},
	{83,3724},
	{85,3718},
	{86,3709},
	{88,3698},
	{90,3694},
	{91,3692},
	{93,3688},
	{95,3667},
	{96,3608},
	{98,3522},
	{100,3377},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299},
	{100,3299}
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0,4332},
	{1,4312},
	{3,4292},
	{4,4273},
	{6,4254},
	{8,4235},
	{9,4217},
	{11,4198},
	{13,4180},
	{14,4162},
	{16,4144},
	{18,4127},
	{19,4110},
	{21,4093},
	{22,4076},
	{24,4064},
	{26,4050},
	{27,4027},
	{29,4008},
	{31,3996},
	{32,3986},
	{34,3972},
	{36,3958},
	{37,3940},
	{39,3918},
	{41,3901},
	{42,3889},
	{44,3877},
	{45,3867},
	{47,3858},
	{49,3849},
	{50,3841},
	{52,3833},
	{54,3825},
	{55,3819},
	{57,3812},
	{59,3806},
	{60,3801},
	{62,3796},
	{64,3791},
	{65,3786},
	{67,3781},
	{68,3774},
	{70,3761},
	{72,3752},
	{73,3745},
	{75,3738},
	{77,3733},
	{78,3728},
	{80,3724},
	{82,3718},
	{83,3710},
	{85,3702},
	{87,3695},
	{88,3683},
	{90,3680},
	{91,3678},
	{93,3674},
	{95,3655},
	{96,3600},
	{98,3518},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388},
	{100,3388}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{245,4272},
	{245,4251},
	{252,4230},
	{260,4210},
	{262,4192},
	{262,4177},
	{280,4171},
	{307,4156},
	{275,4092},
	{317,4038},
	{495,3999},
	{580,3965},
	{617,3943},
	{617,3926},
	{617,3913},
	{620,3904},
	{622,3896},
	{620,3886},
	{617,3875},
	{620,3865},
	{622,3856},
	{627,3847},
	{627,3838},
	{630,3829},
	{632,3820},
	{632,3811},
	{635,3802},
	{637,3792},
	{640,3782},
	{642,3772},
	{642,3761},
	{642,3750},
	{642,3739},
	{645,3729},
	{652,3721},
	{665,3714},
	{687,3708},
	{710,3695},
	{727,3667},
	{742,3615},
	{775,3526},
	{720,3488},
	{680,3471},
	{652,3461},
	{640,3455},
	{625,3450},
	{620,3448},
	{617,3446},
	{612,3444},
	{607,3442},
	{605,3441},
	{600,3440},
	{602,3440},
	{600,3438},
	{597,3438},
	{595,3438},
	{595,3437},
	{595,3437},
	{592,3436},
	{592,3435},
	{595,3435},
	{592,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434},
	{585,3434}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{220,4287},
	{197,4265},
	{207,4245},
	{205,4219},
	{217,4175},
	{295,4140},
	{375,4113},
	{395,4096},
	{417,4089},
	{427,4067},
	{420,4018},
	{420,3987},
	{420,3967},
	{415,3950},
	{407,3935},
	{402,3923},
	{402,3914},
	{405,3906},
	{400,3895},
	{400,3884},
	{397,3873},
	{400,3864},
	{402,3855},
	{402,3846},
	{405,3839},
	{405,3831},
	{407,3824},
	{407,3817},
	{410,3811},
	{412,3805},
	{412,3799},
	{412,3793},
	{412,3787},
	{415,3781},
	{412,3775},
	{412,3770},
	{410,3765},
	{410,3759},
	{410,3753},
	{410,3746},
	{410,3738},
	{410,3729},
	{407,3719},
	{410,3712},
	{422,3708},
	{445,3704},
	{470,3692},
	{477,3656},
	{480,3587},
	{515,3475},
	{512,3404},
	{460,3384},
	{440,3375},
	{427,3370},
	{417,3367},
	{412,3364},
	{407,3362},
	{402,3361},
	{402,3360},
	{397,3359},
	{397,3358},
	{397,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357},
	{395,3357}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{165,4316},
	{165,4294},
	{167,4274},
	{167,4255},
	{170,4237},
	{170,4218},
	{175,4201},
	{172,4183},
	{175,4166},
	{180,4149},
	{180,4131},
	{180,4114},
	{182,4097},
	{182,4085},
	{195,4080},
	{195,4061},
	{192,4026},
	{195,4000},
	{200,3984},
	{202,3973},
	{207,3966},
	{205,3955},
	{190,3936},
	{177,3916},
	{172,3901},
	{172,3888},
	{170,3877},
	{170,3867},
	{172,3858},
	{172,3850},
	{172,3842},
	{172,3834},
	{175,3827},
	{175,3820},
	{177,3814},
	{180,3809},
	{180,3803},
	{180,3798},
	{180,3793},
	{185,3789},
	{182,3784},
	{180,3778},
	{175,3771},
	{172,3765},
	{170,3759},
	{170,3753},
	{170,3748},
	{172,3744},
	{175,3739},
	{175,3732},
	{172,3724},
	{177,3718},
	{177,3709},
	{172,3698},
	{175,3694},
	{182,3692},
	{190,3688},
	{187,3667},
	{187,3608},
	{202,3522},
	{237,3377},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299},
	{250,3299}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{150,4332},
	{150,4312},
	{150,4292},
	{152,4273},
	{152,4254},
	{152,4235},
	{155,4217},
	{152,4198},
	{155,4180},
	{155,4162},
	{155,4144},
	{157,4127},
	{157,4110},
	{160,4093},
	{160,4076},
	{165,4064},
	{165,4050},
	{165,4027},
	{167,4008},
	{170,3996},
	{175,3986},
	{177,3972},
	{177,3958},
	{172,3940},
	{160,3918},
	{155,3901},
	{155,3889},
	{155,3877},
	{155,3867},
	{155,3858},
	{155,3849},
	{155,3841},
	{155,3833},
	{155,3825},
	{157,3819},
	{157,3812},
	{157,3806},
	{162,3801},
	{162,3796},
	{165,3791},
	{165,3786},
	{167,3781},
	{165,3774},
	{155,3761},
	{155,3752},
	{155,3745},
	{152,3738},
	{155,3733},
	{155,3728},
	{157,3724},
	{160,3718},
	{157,3710},
	{157,3702},
	{160,3695},
	{152,3683},
	{157,3680},
	{162,3678},
	{167,3674},
	{165,3655},
	{167,3600},
	{177,3518},
	{200,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388},
	{472,3388}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

